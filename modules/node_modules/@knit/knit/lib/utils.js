/* @flow weak */

const path = require('path');

const needle = require('@knit/needle');

exports.isScoped = (module) => module[0] === '@';

exports.getModuleName = (module) => (
  exports.isScoped(module) ? module.split('/')[1] : module
);

exports.safeFindPkg = (dir) => {
  try {
    // $FlowIgnore
    return require(path.join(needle.paths.modules, dir, 'package.json'));
  } catch (err) {
    return null;
  }
};
