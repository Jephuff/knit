/* @flow weak */

const execa = require('execa');
const path = require('path');
const fs = require('fs-extra');
const pify = require('pify');
const ncp = require('ncp').ncp;
const pathExists = require('path-exists');

const tasks = [
  {
    title: 'setting up project',
    task: ctx => pify(fs.copy)(path.join(__dirname, '../templates/init'), '.').catch(err => {
      throw err;
    }),
  },
  {
    title: 'installing dependencies',
    task: ctx => execa(
        'yarn',
      [
        'add', 'react',
      ]
      ).then(() => (
        execa(
          'yarn',
          [
            'add', '--dev', 'react-dom',
          ]
        )
      )
    ),
  },
];

module.exports = tasks;
