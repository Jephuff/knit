/* @flow weak */

const execa = require('execa');

const needle = require('@knit/needle');

const knit = require('..');

const tasks = [
  {
    title: 'discovering modules',
    task: ctx => {
      const modules = knit.findPublicModules();
      ctx.modules = modules;
      if (ctx.forceAll) {
        ctx.updated = modules;
      }
    },
  },
];

module.exports = tasks;
