#!/usr/bin/env node

const Listr = require('listr');

const errors = require('@knit/nice-errors');
const log = require('@knit/logger');
const tasks = require('@knit/common-tasks');

module.exports = () => {
  new Listr([
    ...tasks.preflight.ignore,
    ...tasks.modules,
    ...tasks.preflight.yarn,
    ...tasks.preflight.knit,
  ], {
    renderer: log.getRenderer(),
  }).run().catch(errors.catchErrors);
};
