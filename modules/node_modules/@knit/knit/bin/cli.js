#!/usr/bin/env node

const updateNotifier = require('update-notifier');
const program = require('commander');

const pkg = require('../package.json')

program
  .version(pkg.version)

program
  .command('ls [modules...]')
  .description('list modules and their dependencies')
  .action(require('./cli-ls'))

program
  .command('updated')
  .description('list updated modules')
  .action(require('./cli-updated'))

program
  .command('validate')
  .description('validate modules for release')
  .action(require('./cli-validate'))

program
  .command('release <version>')
  .description('bump version of package and updated modules')
  .action(require('./cli-release'))

program
  .command('publish')
  .description('publish updated modules')
  .action(require('./cli-publish'))

program
  .parse(process.argv);

const notifier = updateNotifier({
  pkg: pkg,
  updateCheckInterval: 1000 * 60 * 60 * 24 * 7 // 1 week
});
notifier.notify();
