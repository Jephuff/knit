#!/usr/bin/env node

const Listr = require('listr');

const errors = require('../lib/errors');
const log = require('../lib/log');

module.exports = () => {
  new Listr([
    ...require('../tasks/init'),
  ], {
    renderer: log.getRenderer(),
  }).run({
    force: opts.force,
  }).then(ctx => {
    console.log();
    log.success('finished initializing!');
    console.log();
    log.info('run `knit ls` to check out your modules');
    console.log();
    log.info('read more about what you can do with `knit` here: ');
    log.info('https://github.com/knitjs/knit');
    console.log();
    log.info('to do more with your mono repo check out mittens:');
    log.info('https://github.com/knitjs/mittens');
  }).catch(errors.catchErrors);
};
