exports.command = 'pb';
exports.describe = 'built-in publishing tools';
exports.builder = (yargs) => (
yargs
.command('version <version>', 'version updated modules',
(yargs) => (
  yargs
    .demand(1)
    .options('f', {
      alias: 'force-all',
      description: 'version all modules. (will fail if version already released)',
    })
), require('./cli-version'))
.command('build', 'build updated modules',
(yargs) => (
  yargs
    .options('f', {
      alias: 'force-all',
      description: 'build all modules.',
    })
), require('./cli-build'))
.command('knit', 'update the package.json of all modules with knitted dependencies and project meta data',
(yargs) => (
  yargs
    .options('f', {
      alias: 'force-all',
      description: 'publish all modules. (will fail if version already published)',
    })
), require('./cli-knit'))
.command('publish', 'publish updated modules',
(yargs) => (
  yargs
    .options('f', {
      alias: 'force-all',
      description: 'publish all modules. (will fail if version already published)',
    })
), require('./cli-publish'))
.command('release <version>', 'run full release pipeline on updated modules.\nversion > build > knit > publish > push',
(yargs) => (
  yargs
    .demand(1)
    .options('f', {
      alias: 'force-all',
      description: 'release all modules',
    })
), require('./cli-release'))
);
