/* @flow weak */

const execa = require('execa');

const errors = require('@knit/nice-errors');
const needle = require('@knit/needle');

module.exports = argv => {
  argv._.splice(0, 2);
  const opts = ['--ext', '.js', needle.paths.modules].concat(argv._);

  execa('eslint', opts, { stdio: 'inherit' }).catch(err => {
    if (err.stdout || err.stderr) errors.catchErrors(err);
  });
};
