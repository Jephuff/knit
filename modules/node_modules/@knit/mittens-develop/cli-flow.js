/* @flow weak */

const execa = require('execa');
const flow = require('flow-bin');
const errors = require('@knit/nice-errors');

module.exports = argv => {
  argv._.splice(0, 2);
  const opts = argv._.length ? argv._ : ['check'];

  execa(flow, opts, { stdio: 'inherit' }).catch(err => {
    if (err.stdout || err.stderr) errors.catchErrors(err);
  });
};
