![Develop](mittens_develop_header.png "Develop")

---

Pair of Mittens to help develop your applications

## Install

This is a cli addon for KnitJS and expects the [knit-cli](https://github.com/knitjs/knit/tree/master/modules/node_modules/%40knit/knit) to be installed.

```
yarn add @knit/mittens-develop
```

## Commands

We will assume that knit has been [installed](https://github.com/knitjs/knit/tree/master/modules/node_modules/%40knit/knit#local) locally for these examples. If knit is installed globally replace  with `yarn knit --` with `knit`.

#### server

```
❯ yarn knit -- dev server
Usage: server [options]

start a dev server

Options:

  -h, --help           output usage information
  -p, --port <port>    set server port
  -h, --host <host>    set server host
  -r, --proxy <proxy>  set proxy uri
```


#### test

```
❯ yarn knit -- dev test
Usage: test -- [jestOptions]

run tests

Options:

  -h, --help  output usage information
```

The test command will run all `*.test.js` files found under a `__tests__` folder across all your modules. It passes all flags to `jest` directly:

```
❯ yarn knit -- dev test -- --watch
```

#### lint

```
❯ yarn knit -- dev lint

Usage: lint [options]

run linter

Options:

  -h, --help  output usage information
```

#### flow

```
❯ yarn knit -- dev flow
Usage: flow [options]

run flow

Options:

  -h, --help  output usage information
```

This command will run flow across all modules. You will still need a `.flowconfig` and to add `/* @flow */` to the top of any file you want checked by flow.

For your `.flowconfig` we recommend:

```
[ignore]
.*/node_modules/npm/.*
.*/node_modules/fbjs/.*
.*/node_modules/.*/test/.*

[options]
suppress_comment=\\(.\\|\n\\)*\\$FlowFixMe
suppress_comment=\\(.\\|\n\\)*\\$FlowIssue
suppress_comment=\\(.\\|\n\\)*\\$FlowIgnore
```

If you get flow errors from third party modules you can add them under `[ignore]`.

#### relay

```
❯ yarn knit -- dev relay
Usage: relay [options]

update relay schema

Options:

  -h, --help  output usage information
```

This command will call out to a GraphQL server to fetch its schema and save it locally. Useful for running query validation without a live server (tests, travis etc.)
