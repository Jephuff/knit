/* @flow */

import type { TJson } from '@knit/needle';

export type TLoader = {|
  test: RegExp,
  loader?: string,
  loaders?: Array<string>,
  exclude?: string | Array<string>,
  include?: string | Array<string>,
  query?: TJson,
|}

export type TDevServer = {|
  contentBase: string,
  stats: {
    colors: boolean,
    hash: boolean,
    timings: boolean,
    chunks: boolean,
    chunkModules: boolean,
    modules: boolean,
  },
  publicPath: string,
|};

export type TConfig = {|
  devServer: TDevServer,
  devtool?: string,
  target?: string,
  bail?: boolean,
  debug?: boolean,
  profile?: boolean,
  entry?: {
    [k: string]: Array<string>,
  },
  pathInfo?: boolean,
  output?: {|
    path?: string,
    publicPath?: string,
    filename?: string,
    chunkFilename?: string,
    pathInfo?: boolean,
    libraryTarget?: string,
  |},
  module?: {
    loaders?: Array<TLoader>,
    noParse?: Array<RegExp>,
  },
  resolve?: {
    extentions?: Array<string>,
    modules?: Array<string>,
  },
  plugins?: Array<mixed>,
  externals?: Array<string>,
|};

declare module.exports: TConfig;
